extends layout
block link
  -var selected = 'Report';

block content
  div#tabs
    ul.nav.nav-tabs
      li.active
        a(data-toggle='tab', href='#spending-table') Spending
      li
        a(data-toggle='tab', href='#production-table') Production
      li
        a(data-toggle='tab', href='#formula-table') Formula Production
      li
        a(data-toggle='tab', href='#recall-table') Recall
      li
        a(data-toggle='tab', href='#ingredient-table') Ingredient Freshness
  .tab-content
    #spending-table.tab-pane.fade.in.active
      div.card
        div.card-header(data-background-color='purple')
          h4.title Spending Report
        div.card-content.table-response
          input.form-control#spendingInput(type='text',onkeyup='filterTable(\'spending\')', placeholder='Search for ingredients..', title='Type in some search text')
          table.table#spendingTable
            thead.text-primary
              th(onclick='sortTable(0, \'spending\')') Ingredient
              th(onclick='sortTable(1, \'spending\')') Total Spending
            tbody
            if spending
              each tuple in spending
                tr
                  td
                    a(href='/ingredients/' + encodeURIComponent(tuple.ingredient))= tuple.ingredient
                  td= tuple.totalSpent.toFixed(2)
            else
    #production-table.card-content.tab-pane.fade
      div.card
        div.card-header(data-background-color='purple')
          h4.title Spending Report: Production
        div.card-content.table-response
          input.form-control#productionInput(type='text',onkeyup='filterTable(\'production\')', placeholder='Search for ingredients..', title='Type in some search text')
          table.table#productionTable
            thead.text-primary
              th(onclick='sortTable(0, \'production\')') Ingredient
              th(onclick='sortTable(1, \'production\')') Total Spending
            tbody
            if production
              each tuple in production
                tr
                  td
                    a(href='/ingredients/' + encodeURIComponent(tuple.ingredient))= tuple.ingredient
                  td= tuple.totalSpent.toFixed(2)
            else
    #formula-table.card-content.tab-pane.fade
      div.card
        div.card-header(data-background-color='purple')
          h4.title Production Report by Formula
        div.card-content.table-response
          input.form-control#productionInput(type='text',onkeyup='filterTable(\'formula\')', placeholder='Search for ingredients..', title='Type in some search text')
          table.table#formulaTable
            thead.text-primary
              th(onclick='sortTable(0, \'formula\')') Formula
              th(onclick='sortTable(1, \'formula\')') Total Units Produced
              th(onclick='sortTable(2, \'formula\')') Total Ingredient Cost
            tbody
            if formula
              each tuple in formula
                tr
                  td
                    a(href='/formulas/' + encodeURIComponent(tuple.formula))= tuple.formula
                  td= tuple.unitsProduced
                  td= tuple.totalCost.toFixed(2)
            else
    #recall-table.card-content.tab-pane.fade
      div.card
        div.card-header(data-background-color='purple')
          h4.title Recall Report
        div.card-content.table-response
          form(action='/reports/recall', method='post')
            .form-group
              label.control-label Ingredient Name
              input.form-control(type='text', name='name', required='')
            .form-group
              label.control-label Vendor Code
              input.form-control(type='text', name='code', required='')
            .form-group
              label.control-label Lot Number
              input.form-control(type='text', name='lotNumber', required='')
            button.btn.btn-primary.pull-left(type='submit', value='recall report') Get Recall Report

    #ingredient-table.card-content.tab-pane.fade
      div.card
        div.card-header(data-background-color='purple')
          h4.title Ingredient Freshness Report
        div.card-content.table-response
          input.form-control#ingredientInput(type='text',onkeyup='filterTable(\'ingredient\')', placeholder='Search for ingredients..', title='Type in some search text')
          table.table#ingredientTable
            thead.text-primary
              th(onclick='sortTable(0, \'ingredient\')') Ingredient
              th(onclick='sortTable(1, \'ingredient\')') Average Time in Inventory
              th(onclick='sortTable(2, \'ingredient\')') Worst Case Time in Inventory
            tbody
            if ingredient
              each tuple in ingredient
                tr
                  td
                    a(href='/ingredients/' + encodeURIComponent(tuple.ingredients))= tuple.ingredients
                  td= tuple.avgTime
                  td= tuple.worstTime
            else
